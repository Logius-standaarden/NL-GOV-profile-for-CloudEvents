<!DOCTYPE html><html lang="en"><head>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta content="text/html; charset=utf-8" http-equiv="content-type">
<meta name="generator" content="ReSpec 32.1.10 Logius profile 20220628">
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
<title>NL GOV profile for CloudEvents</title>
    
    
    
<link rel="stylesheet" type="text/css" href="./media/style.css">
    
    
    
<link rel="shortcut icon" type="image/x-icon" href="https://publicatie.centrumvoorstandaarden.nl/respec/style/logos/Geonovum.ico">
    
    
    
  
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
code{color:#c63501}
th code{color:inherit}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
<meta name="description" content="CloudEvents is a vendor neutral specification for defining the format of event data. This specification profiles the CloudEvents specification to standardize the automated exchange of information about events, specifically applicable to the Dutch government.">
<link rel="canonical" href="https://publicatie.centrumvoorstandaarden.nl/notificatieservices/NL-GOV-profile-for-CloudEvents/">
<script type="application/ld+json">{
  "@context": [
    "http://schema.org",
    {
      "@vocab": "http://schema.org/",
      "@language": "en",
      "w3p": "http://www.w3.org/2001/02pd/rec54#",
      "foaf": "http://xmlns.com/foaf/0.1/",
      "datePublished": {
        "@type": "http://www.w3.org/2001/XMLSchema#date"
      },
      "inLanguage": {
        "@language": null
      },
      "isBasedOn": {
        "@type": "@id"
      },
      "license": {
        "@type": "@id"
      }
    }
  ],
  "id": "https://publicatie.centrumvoorstandaarden.nl/notificatieservices/NL-GOV-profile-for-CloudEvents/",
  "type": [
    "TechArticle",
    "w3p:WD"
  ],
  "name": "NL GOV profile for CloudEvents",
  "inLanguage": "en",
  "license": "https://creativecommons.org/licenses/by-nd/4.0/legalcode.nl",
  "datePublished": "2022-07-05",
  "copyrightHolder": {
    "name": "World Wide Web Consortium",
    "url": "https://www.w3.org/"
  },
  "discussionUrl": "https://github.com/Logius-standaarden/NL-GOV-profile-for-CloudEvents/issues/",
  "alternativeHeadline": "Project Notificatieservices",
  "isBasedOn": "https://publicatie.centrumvoorstandaarden.nl/notificatieservices/NL-GOV-profile-for-CloudEvents/0.3/",
  "description": "CloudEvents is a vendor neutral specification for defining the format of event data. This specification profiles the CloudEvents specification to standardize the automated exchange of information about events, specifically applicable to the Dutch government.",
  "editor": [
    {
      "type": "Person",
      "name": "Gershon Jansen",
      "worksFor": {
        "name": "VNG Realisatie",
        "url": "https://www.vngrealisatie.nl/"
      }
    },
    {
      "type": "Person",
      "name": "Ad Gerrits",
      "worksFor": {
        "name": "VNG Realisatie",
        "url": "https://www.vngrealisatie.nl/"
      }
    },
    {
      "type": "Person",
      "name": "Edwin Wisse",
      "url": "https://logius.nl/standaarden",
      "worksFor": {
        "name": "Logius"
      }
    }
  ],
  "contributor": [
    {
      "type": "Person",
      "name": "Werkgroep Berichtenstandaard",
      "worksFor": {
        "name": "Project Notificatieservices"
      }
    }
  ],
  "citation": [
    {
      "id": "https://github.com/cloudevents/spec/blob/v1.0.1/spec.md",
      "type": "TechArticle",
      "name": "CloudEvents - Version 1.0.1",
      "url": "https://github.com/cloudevents/spec/blob/v1.0.1/spec.md",
      "creator": [
        {
          "name": "@@@"
        }
      ],
      "publisher": {
        "name": "@@@"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc2119",
      "type": "TechArticle",
      "name": "Key words for use in RFCs to Indicate Requirement Levels",
      "url": "https://www.rfc-editor.org/rfc/rfc2119",
      "creator": [
        {
          "name": "S. Bradner"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc8174",
      "type": "TechArticle",
      "name": "Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words",
      "url": "https://www.rfc-editor.org/rfc/rfc8174",
      "creator": [
        {
          "name": "B. Leiba"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    }
  ]
}</script>
<style>
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}
.hljs-comment,.hljs-quote{color:#717277;font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;font-weight:700}
.hljs-literal{color:#0b76c5}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "specStatus": "WD",
  "specType": "HR",
  "pubDomain": "notificatieservices",
  "shortname": "CloudEvents-NL",
  "publishDate": "2022-07-05",
  "publishVersion": "1.0",
  "previousPublishVersion": "0.3",
  "license": "cc-by-nd",
  "editors": [
    {
      "name": "Gershon Jansen",
      "company": "VNG Realisatie",
      "companyURL": "https://www.vngrealisatie.nl/"
    },
    {
      "name": "Ad Gerrits",
      "company": "VNG Realisatie",
      "companyURL": "https://www.vngrealisatie.nl/"
    },
    {
      "name": "Edwin Wisse",
      "url": "https://logius.nl/standaarden",
      "company": "Logius"
    }
  ],
  "authors": [
    {
      "name": "Werkgroep Berichtenstandaard",
      "company": "Project Notificatieservices"
    }
  ],
  "subtitle": "Project Notificatieservices",
  "github": "https://github.com/Logius-standaarden/NL-GOV-profile-for-CloudEvents",
  "issueBase": "https://github.com/Logius-standaarden/NL-GOV-profile-for-CloudEvents/issues/",
  "addSectionLinks": true,
  "a11y": false,
  "maxTocLevel": 3,
  "alternateFormats": [
    {
      "label": "pdf",
      "uri": "CloudEvents-NL.pdf"
    }
  ],
  "nl_organisationName": "Logius",
  "nl_organisationPrefix": "LS-",
  "nl_markdownTableClass": "dkkvs",
  "nl_markdownCodeClass": "code",
  "nl_markdownEmbedImageInFigure": true,
  "nl_organisationStylesURL": "https://publicatie.centrumvoorstandaarden.nl/respec/style/",
  "nl_organisationPublishURL": "https://publicatie.centrumvoorstandaarden.nl/",
  "nl_logo": {
    "src": "https://publicatie.centrumvoorstandaarden.nl/respec/style/logos/figure-logius.svg",
    "alt": "Logius",
    "id": "Logius",
    "height": 77,
    "width": 44,
    "url": "https://www.logius.nl/standaarden"
  },
  "localBiblio": {
    "CloudEvents": {
      "href": "https://github.com/cloudevents/spec/blob/v1.0.1/spec.md",
      "title": "CloudEvents - Version 1.0.1",
      "authors": [
        "@@@"
      ],
      "date": "May 2011",
      "publisher": "@@@",
      "id": "cloudevents"
    },
    "Expert": {
      "href": "https://www.forumstandaardisatie.nl/sites/bfs/files/@@@.pdf",
      "title": "Expertadvies CloudEvents 1.0",
      "authors": [
        "@@@"
      ],
      "date": "@@@",
      "publisher": "Forum Standaardisatie"
    },
    "UUID": {
      "href": "https://tools.ietf.org/html/rfc4122",
      "title": "A Universally Unique IDentifier (UUID) URN Namespace",
      "authors": [
        "P. Leach",
        "M. Mealling",
        "R. Salz"
      ],
      "date": "July 2005",
      "publisher": "The Internet Engineering Task Force"
    }
  },
  "publishISODate": "2022-07-05T00:00:00.000Z",
  "generatedSubtitle": "undefined 05 juli 2022"
}</script>
<link rel="stylesheet" href="https://publicatie.centrumvoorstandaarden.nl/respec/style/LS-BASIS.css"></head>
  
  <body class="h-entry toc-inline"><div class="head">
    <a class="logo" href="https://www.logius.nl/standaarden"><img alt="Logius" height="77" id="Logius" src="https://publicatie.centrumvoorstandaarden.nl/respec/style/logos/figure-logius.svg" width="44">
  </a> <h1 id="title" class="title">NL GOV profile for CloudEvents</h1>
    <h2 id="subtitle" class="subtitle">Project Notificatieservices</h2>
    <h2>
      Logius Guide<br>
      
      <time class="dt-published" datetime="2022-07-05">05 juli 2022</time>
    </h2>
    <dl>
      <dt>This version:</dt><dd class="status">
              <a class="u-url status" href="https://logius-standaarden.github.io/NL-GOV-profile-for-CloudEvents/">https://logius-standaarden.github.io/NL-GOV-profile-for-CloudEvents/</a>
            </dd><dt>Latest published version:</dt><dd>
              <a href="https://publicatie.centrumvoorstandaarden.nl/notificatieservices/NL-GOV-profile-for-CloudEvents/">https://publicatie.centrumvoorstandaarden.nl/notificatieservices/NL-GOV-profile-for-CloudEvents/</a>
            </dd>
      <dt>Latest editor's draft:</dt><dd><a href="https://logius-standaarden.github.io/NL-GOV-profile-for-CloudEvents/">https://logius-standaarden.github.io/NL-GOV-profile-for-CloudEvents/</a></dd>
      
      
      
      <dt>Previous version:</dt><dd><a href="https://publicatie.centrumvoorstandaarden.nl/notificatieservices/NL-GOV-profile-for-CloudEvents/0.3/">https://publicatie.centrumvoorstandaarden.nl/notificatieservices/NL-GOV-profile-for-CloudEvents/0.3/</a></dd>
      
      <dt>Editors:</dt>
      <dd class="editor p-author h-card vcard">
    <span class="p-name fn">Gershon Jansen</span> (<a class="p-org org h-org" href="https://www.vngrealisatie.nl/">VNG Realisatie</a>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Ad Gerrits</span> (<a class="p-org org h-org" href="https://www.vngrealisatie.nl/">VNG Realisatie</a>)
  </dd><dd class="editor p-author h-card vcard">
    <a class="u-url url p-name fn" href="https://logius.nl/standaarden">Edwin Wisse</a> (<span class="p-org org h-org">Logius</span>)
  </dd>
      
      <dt>Author:</dt><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Werkgroep Berichtenstandaard</span> (<span class="p-org org h-org">Project Notificatieservices</span>)
  </dd>
      <dt>Participate:</dt><dd>
    <a href="https://github.com/Logius-standaarden/NL-GOV-profile-for-CloudEvents/">GitHub Logius-standaarden/NL-GOV-profile-for-CloudEvents</a>
  </dd><dd>
    <a href="https://github.com/Logius-standaarden/NL-GOV-profile-for-CloudEvents/issues/">File an issue</a>
  </dd><dd>
    <a href="https://github.com/Logius-standaarden/NL-GOV-profile-for-CloudEvents/commits/">Commit history</a>
  </dd><dd>
    <a href="https://github.com/Logius-standaarden/NL-GOV-profile-for-CloudEvents/pulls/">Pull requests</a>
  </dd>
    </dl>
    
    
    <p lang="en">
          This document is also available in this non-normative format:
          <a rel="alternate" href="CloudEvents-NL.pdf">pdf</a>
        </p>
    <p class="copyright" lang="en">
          This document is licensed under a
          <a rel="license" href="https://creativecommons.org/licenses/by/4.0/" class="subfoot">Creative Commons Attribution 4.0 License</a>.
        </p>
    <hr title="Separator for header">
  </div>
    <div><i>
      This document is an adaptation of the <a href="https://github.com/cloudevents/spec">
        CloudEvents specification</a> for describing event data in common formats to
        provide interoperability across services, platforms and systems. This does not
        indicate an endorsement by the CloudEvents working group. As far as the
        specification is incorporated in this document, the
        <a href="https://github.com/cloudevents/spec/blob/70823088e52b393b4251abd1ab03b6cfa233d427/LICENSE">CloudEvents License</a> applies.
    </i></div>
    <br>
    <div class="warning" id="issue-container-generatedID"><div role="heading" class="warning-title marker" id="h-warning" aria-level="2"><span>Warning</span></div><p class="">This standard is still in development and can be modified at any time.</p></div>

    <div class="warning" id="issue-container-generatedID-0"><div role="heading" class="warning-title marker" id="h-warning-0" aria-level="2"><span>Warning</span></div><p class="">
    Het project Notificatieservices is per 30 juni 2022 beeindigd. Over
    doorontwikkeling en beheer van het 'NL GOV profile for CloudEvents'
    worden gesprekken gevoerd maar zijn nog geen defintieve beslissingen genomen.
    </p></div>
    <section id="conformance"><div class="header-wrapper"><h2 id="x1-conformance"><bdi class="secno">1. </bdi>Conformance</h2><a class="self-link" href="#conformance" aria-label="Permalink for Section 1."></a></div><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
        The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST NOT</em>, <em class="rfc2119">OPTIONAL</em>, <em class="rfc2119">RECOMMENDED</em>, <em class="rfc2119">REQUIRED</em>, <em class="rfc2119">SHALL</em>, <em class="rfc2119">SHALL NOT</em>, <em class="rfc2119">SHOULD</em>, and <em class="rfc2119">SHOULD NOT</em> in this document
        are to be interpreted as described in
        <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p></section>
    <section id="abstract" data-format="markdown" class="introductory"><h2>Abstract</h2>

<p>CloudEvents is a vendor neutral specification for defining the format of event data. This specification profiles the CloudEvents specification to standardize the automated exchange of information about events, specifically applicable to the Dutch government.</p>
</section>
    <section id="sotd" class="introductory"><h2>Status of This Document</h2><p></p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">1. </bdi>Conformance</a></li><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#overview"><bdi class="secno">2. </bdi>Overview</a></li><li class="tocline"><a class="tocxref" href="#notations-and-terminology"><bdi class="secno">3. </bdi>Notations and Terminology</a></li><li class="tocline"><a class="tocxref" href="#context-attributes"><bdi class="secno">4. </bdi>Context Attributes</a></li><li class="tocline"><a class="tocxref" href="#event-data"><bdi class="secno">5. </bdi>Event Data</a></li><li class="tocline"><a class="tocxref" href="#size-limits"><bdi class="secno">6. </bdi>Size Limits</a></li><li class="tocline"><a class="tocxref" href="#advanced-cloudevents-security-options"><bdi class="secno">7. </bdi>Advanced CloudEvents Security Options</a></li><li class="tocline"><a class="tocxref" href="#example"><bdi class="secno">8. </bdi>Example</a></li><li class="tocline"><a class="tocxref" href="#appendix-1-use-of-json-http-and-webhook"><bdi class="secno">9. </bdi>Appendix 1: Use of JSON, HTTP and Webhook</a></li><li class="tocline"><a class="tocxref" href="#tof"><bdi class="secno">10. </bdi>List of Figures</a></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">A. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">A.1 </bdi>Normative references</a></li></ol></li></ol></nav>
    
    
    
    
    <div data-format="markdown"><p>Note: the format used is the format used by the Logius Centrum voor standaarden (e.g. <a href="https://publicatie.centrumvoorstandaarden.nl/api/oauth/">NL GOV Assurance profile for OAuth 2.0</a>). This makes it easier for reviewers to assess things. The format may also be used to publish the profile in the future.</p>
<h2>Dutch government profile for CloudEvents</h2>
<p>This profile is based upon the CloudEvents 1.0.1 specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-cloudevents" title="CloudEvents - Version 1.0.1">CloudEvents</a></cite>] as published by the <a href="https://github.com/cncf/wg-serverless">Serverless Working Group</a> of the
 <a href="https://www.cncf.io/">Cloud Native Computing Foundation</a>.
It should be considered a fork of this profile as the CloudEvents specification is geared more towards generic use and in the Netherlands we want to add a number of requirements for the Dutch situation with the goal to agree on how to use the CloudEvents specification.</p>
<p>The goal of the CloudEvents specification is to define interoperability of event systems that allow services to produce or consume events, where the producer and consumer can be developed and deployed independently. The ability to keep services loosely coupled within a distributed system such as the Dutch government makes it possible to work more often and in a better event-driven way. Using the CE standard supports this and makes maximum use of existing worldwide standards.</p>
<p>The CloudEvents standard is based on the principle of not imposing more requirements on the parties involved than necessary. This means, among other things, that there are no requirements for how consumers should interpret and process received notifications. Constraints pertaining to consumers are therefore more often formulated with '<em class="rfc2119">MAY</em>' than with '<em class="rfc2119">SHOULD</em>' or '<em class="rfc2119">MUST</em>' (e.g. "Consumers <em class="rfc2119">MAY</em> assume that Events with identical <code class="code">source</code> and <code class="code">id</code> are duplicates")) The GOV NL profile endorses this principle. In practice, the parties involved are of course allowed to apply stricter constraints.</p>
<p>We have added a number of <a href="#usecases">Use Cases</a> to illustrate the specific usage the CloudEvents-NL profile is aimed at. Starting with chapter <a href="#introduction">Introduction</a> we follow the structure of the CloudEvents profile. Where we do not use content from CloudEvents we use <del>strikethrough</del> to indicate it is not part of CloudEvents-NL. Where we have added more specific requirements for the Dutch situation this is indicated with the <strong>CloudEvents-NL</strong> tag.</p>
<div class="header-wrapper"><h3 id="usecases">Usecases</h3><a class="self-link" href="#usecases" aria-label="Permalink for this Section"></a></div>
 <figure id="authorization_code">
    <img alt="Pubsub image" src="media/use-case-pubsub1.png" width="600">
    <figcaption>Figure <bdi class="figno">1</bdi> <span class="fig-title">Publish-subscribe pattern</span></figcaption>
 </figure>

<div class="header-wrapper"><h3 id="introduction">Introduction</h3><a class="self-link" href="#introduction" aria-label="Permalink for this Section"></a></div>
<p>The basic pattern for use cases describes a (public/governmental) application in the role of '<a href="#producer">producer</a>' publishes '<a href="#event">events</a>': data records expressing an occurrence and its context. Published events can be consumed by applications in the role of '<a href="#consumer">consumer</a>'. Consumers are subscribed to receiving certain types of events. There may or may not be one or more applications in the rol of '<a href="intermediary">intermediary</a>' that take care of routing events to consumers based on contextual information. The basic pattern used here is the <a href="https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern">publish-subscribe pattern</a>.</p>
<p>Within this context, it concerns standardization of the automated exchange of event information via applications. In practice, agreements at business level are often also required between the parties involved. </p>
<p>A number of <a href="use-cases">use cases</a> have been described that clarify the use of the GOV NL profile.</p>
</div>
    <section data-format="markdown" id="overview"><div class="header-wrapper"><h2 id="x2-overview"><bdi class="secno">2. </bdi>Overview</h2><a class="self-link" href="#overview" aria-label="Permalink for Section 2."></a></div>


<p>Events are everywhere. However, event producers tend to describe events
differently.</p>
<p>The lack of a common way of describing events means developers are constantly
re-learning how to consume events. This also limits the potential for libraries,
tooling and infrastructure to aid the delivery of event data across
environments, like SDKs, event routers or tracing systems. The portability and
productivity that can be achieved from event data is hindered overall.</p>
<p>CloudEvents is a specification for describing event data in common formats to
provide interoperability across services, platforms and systems.</p>
<p>Event Formats specify how to serialize a CloudEvent with certain encoding
formats. Compliant CloudEvents implementations that support those encodings <em class="rfc2119">MUST</em>
adhere to the encoding rules specified in the respective event format. All
implementations <em class="rfc2119">MUST</em> support the <a href="json-format.md">JSON format</a>.</p>
<p>For more information on the history, development and design rationale behind the
specification, see the <a href="primer.md">CloudEvents Primer</a> document.</p>
</section>
    <section data-format="markdown" id="notations-and-terminology"><div class="header-wrapper"><h2 id="x3-notations-and-terminology"><bdi class="secno">3. </bdi>Notations and Terminology</h2><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for Section 3."></a></div>
<div class="header-wrapper"><h3 id="notational-conventions">Notational Conventions</h3><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for this Section"></a></div>
<p>The key words "<em class="rfc2119">MUST</em>", "<em class="rfc2119">MUST NOT</em>", "<em class="rfc2119">REQUIRED</em>", "<em class="rfc2119">SHALL</em>", "<em class="rfc2119">SHALL NOT</em>", "<em class="rfc2119">SHOULD</em>",
"<em class="rfc2119">SHOULD NOT</em>", "<em class="rfc2119">RECOMMENDED</em>", "<em class="rfc2119">MAY</em>", and "<em class="rfc2119">OPTIONAL</em>" in this document are to be
interpreted as described in <a href="https://tools.ietf.org/html/rfc2119">RFC 2119</a>.</p>
<p>For clarity, when a feature is marked as "<em class="rfc2119">OPTIONAL</em>" this means that it is
<em class="rfc2119">OPTIONAL</em> for both the <a href="#producer">Producer</a> and <a href="#consumer">Consumer</a> of a
message to support that feature. In other words, a producer can choose to
include that feature in a message if it wants, and a consumer can choose to
support that feature if it wants. A consumer that does not support that feature
will then silently ignore that part of the message. The producer needs to be
prepared for the situation where a consumer ignores that feature. An
<a href="#intermediary">Intermediary</a> <em class="rfc2119">SHOULD</em> forward <em class="rfc2119">OPTIONAL</em> attributes.</p>
<div class="header-wrapper"><h3 id="terminology">Terminology</h3><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for this Section"></a></div>
<p>This specification defines the following terms:</p>
<div class="header-wrapper"><h4 id="occurrence">Occurrence</h4><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for this Section"></a></div>
<p>An "occurrence" is the capture of a statement of fact during the operation of a
software system. This might occur because of a signal raised by the system or a
signal being observed by the system, because of a state change, because of a
timer elapsing, or any other noteworthy activity. For example, a device might go
into an alert state because the battery is low, or a virtual machine is about to
perform a scheduled reboot.</p>
<div class="header-wrapper"><h4 id="event">Event</h4><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for this Section"></a></div>
<p>An "event" is a data record expressing an occurrence and its context. Events are
routed from an event producer (the source) to interested event consumers. The
routing can be performed based on information contained in the event, but an
event will not identify a specific routing destination. Events will contain two
types of information: the <a href="#event-data">Event Data</a> representing the Occurrence
and <a href="#context">Context</a> metadata providing contextual information about the
Occurrence. A single occurrence <em class="rfc2119">MAY</em> result in more than one event.</p>
<div class="header-wrapper"><h4 id="producer">Producer</h4><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for this Section"></a></div>
<p>The "producer" is a specific instance, process or device that creates the data
structure describing the CloudEvent.</p>
<div class="header-wrapper"><h4 id="source">Source</h4><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for this Section"></a></div>
<p>The "source" is the context in which the occurrence happened. In a distributed
system it might consist of multiple <a href="#producer">Producers</a>. If a source is not
aware of CloudEvents, an external producer creates the CloudEvent on behalf of
the source.</p>
<div class="header-wrapper"><h4 id="consumer">Consumer</h4><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for this Section"></a></div>
<p>A "consumer" receives the event and acts upon it. It uses the context and data
to execute some logic, which might lead to the occurrence of new events.</p>
<div class="header-wrapper"><h4 id="intermediary">Intermediary</h4><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for this Section"></a></div>
<p>An "intermediary" receives a message containing an event for the purpose of
forwarding it to the next receiver, which might be another intermediary or a
<a href="#consumer">Consumer</a>. A typical task for an intermediary is to route the event
to receivers based on the information in the <a href="#context">Context</a>.</p>
<div class="header-wrapper"><h4 id="context">Context</h4><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for this Section"></a></div>
<p>Context metadata will be encapsulated in the
<a href="#context-attributes">Context Attributes</a>. Tools and application code can use
this information to identify the relationship of Events to aspects of the system
or to other Events.</p>
<div class="header-wrapper"><h4 id="data">Data</h4><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for this Section"></a></div>
<p>Domain-specific information about the occurrence (i.e. the payload). This might
include information about the occurrence, details about the data that was
changed, or more. See the <a href="#event-data">Event Data</a> section for more
information.</p>
<div class="header-wrapper"><h4 id="event-format">Event Format</h4><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for this Section"></a></div>
<p>An Event Format specifies how to serialize a CloudEvent as a sequence of bytes.
Stand-alone event formats, such as the <a href="json-format.md">JSON format</a>, specify
serialization independent of any protocol or storage medium. Protocol Bindings
<em class="rfc2119">MAY</em> define formats that are dependent on the protocol.</p>
<div class="header-wrapper"><h4 id="message">Message</h4><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for this Section"></a></div>
<p>Events are transported from a source to a destination via messages.</p>
<p>A "structured-mode message" is one where the event is fully encoded using
a stand-alone event format and stored in the message body.</p>
<p>A "binary-mode message" is one where the event data is stored in the message
body, and event attributes are stored as part of message meta-data.</p>
<div class="header-wrapper"><h4 id="protocol">Protocol</h4><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for this Section"></a></div>
<p>Messages can be delivered through various industry standard protocol (e.g. HTTP,
AMQP, MQTT, SMTP), open-source protocols (e.g. Kafka, NATS), or platform/vendor
specific protocols (AWS Kinesis, Azure Event Grid).</p>
<div class="header-wrapper"><h4 id="protocol-binding">Protocol Binding</h4><a class="self-link" href="#notations-and-terminology" aria-label="Permalink for this Section"></a></div>
<p>A protocol binding describes how events are sent and received over a given
protocol.</p>
<p>Protocol bindings <em class="rfc2119">MAY</em> choose to use an <a href="#event-format">Event Format</a> to map an
event directly to the transport envelope body, or <em class="rfc2119">MAY</em> provide additional
formatting and structure to the envelope. For example, a wrapper around a
structured-mode message might be used, or several messages could be batched
together into a transport envelope body.</p>
</section>
    <section data-format="markdown" id="context-attributes"><div class="header-wrapper"><h2 id="x4-context-attributes"><bdi class="secno">4. </bdi>Context Attributes</h2><a class="self-link" href="#context-attributes" aria-label="Permalink for Section 4."></a></div>


<p>Every CloudEvent conforming to this specification <em class="rfc2119">MUST</em> include context
attributes designated as <em class="rfc2119">REQUIRED</em>, <em class="rfc2119">MAY</em> include one or more <em class="rfc2119">OPTIONAL</em> context
attributes and <em class="rfc2119">MAY</em> include one or more extension attributes.</p>
<p>These attributes, while descriptive of the event, are designed such that they
can be serialized independent of the event data. This allows for them to be
inspected at the destination without having to deserialize the event data.</p>
<div class="header-wrapper"><h3 id="attribute-naming-convention">Attribute Naming Convention</h3><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<p>The CloudEvents specifications define mappings to various protocols and
encodings, and the accompanying CloudEvents SDK targets various runtimes and
languages. Some of these treat metadata elements as case-sensitive while others
do not, and a single CloudEvent might be routed via multiple hops that involve a
mix of protocols, encodings, and runtimes. Therefore, this specification limits
the available character set of all attributes such that case-sensitivity issues
or clashes with the permissible character set for identifiers in common
languages are prevented.</p>
<p>CloudEvents attribute names <em class="rfc2119">MUST</em> consist of lower-case letters ('a' to 'z') or
digits ('0' to '9') from the ASCII character set. Attribute names <em class="rfc2119">SHOULD</em> be
descriptive and terse and <em class="rfc2119">SHOULD NOT</em> exceed 20 characters in length.</p>
<div class="header-wrapper"><h3 id="type-system">Type System</h3><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<p>The following abstract data types are available for use in attributes. Each of
these types <em class="rfc2119">MAY</em> be represented differently by different event formats and in
protocol metadata fields. This specification defines a canonical
string-encoding for each type that <em class="rfc2119">MUST</em> be supported by all implementations.</p>
<ul>
<li><code class="code">Boolean</code> - a boolean value of "true" or "false".<ul>
<li>String encoding: a case-sensitive value of <code class="code">true</code> or <code class="code">false</code>.</li>
</ul>
</li>
<li><code class="code">Integer</code> - A whole number in the range -2,147,483,648 to +2,147,483,647
inclusive. This is the range of a signed, 32-bit, twos-complement encoding.
Event formats do not have to use this encoding, but they <em class="rfc2119">MUST</em> only use
<code class="code">Integer</code> values in this range.<ul>
<li>String encoding: Integer portion of the JSON Number per
<a href="https://tools.ietf.org/html/rfc7159#section-6">RFC 7159, Section 6</a></li>
</ul>
</li>
<li><code class="code">String</code> - Sequence of allowable Unicode characters. The following characters
are disallowed:<ul>
<li>the "control characters" in the ranges U+0000-U+001F and U+007F-U+009F (both
ranges inclusive), since most have no agreed-on meaning, and some, such as
U+000A (newline), are not usable in contexts such as HTTP headers.</li>
<li>code points
<a href="http://www.unicode.org/faq/private_use.html#noncharacters">identified as noncharacters by Unicode</a>.</li>
<li>code points identifying Surrogates, U+D800-U+DBFF and U+DC00-U+DFFF, both
ranges inclusive, unless used properly in pairs. Thus (in JSON notation)
"\uDEAD" is invalid because it is an unpaired surrogate, while
"\uD800\uDEAD" would be legal.</li>
</ul>
</li>
<li><code class="code">Binary</code> - Sequence of bytes.<ul>
<li>String encoding: Base64 encoding per
<a href="https://tools.ietf.org/html/rfc4648">RFC4648</a>.</li>
</ul>
</li>
<li><code class="code">URI</code> - Absolute uniform resource identifier.<ul>
<li>String encoding: <code class="code">Absolute URI</code> as defined in
<a href="https://tools.ietf.org/html/rfc3986#section-4.3">RFC 3986 Section 4.3</a>.</li>
</ul>
</li>
<li><code class="code">URI-reference</code> - Uniform resource identifier reference.<ul>
<li>String encoding: <code class="code">URI-reference</code> as defined in
<a href="https://tools.ietf.org/html/rfc3986#section-4.1">RFC 3986 Section 4.1</a>.</li>
</ul>
</li>
<li><code class="code">Timestamp</code> - Date and time expression using the Gregorian Calendar.<ul>
<li>String encoding: <a href="https://tools.ietf.org/html/rfc3339">RFC 3339</a>.</li>
</ul>
</li>
</ul>
<p>All context attribute values <em class="rfc2119">MUST</em> be of one of the types listed above.
Attribute values <em class="rfc2119">MAY</em> be presented as native types or canonical strings.</p>
<p>A strongly-typed programming model that represents a CloudEvent or any extension
<em class="rfc2119">MUST</em> be able to convert from and to the canonical string-encoding to the
runtime/language native type that best corresponds to the abstract type.</p>
<p>For example, the <code class="code">time</code> attribute might be represented by the language's native
<em>datetime</em> type in a given implementation, but it <em class="rfc2119">MUST</em> be settable providing an
RFC3339 string, and it <em class="rfc2119">MUST</em> be convertible to an RFC3339 string when mapped to a
header of an HTTP message.</p>
<p>A CloudEvents protocol binding or event format implementation <em class="rfc2119">MUST</em> likewise be
able to convert from and to the canonical string-encoding to the corresponding
data type in the encoding or in protocol metadata fields.</p>
<p>An attribute value of type <code class="code">Timestamp</code> might indeed be routed as a string
through multiple hops and only materialize as a native runtime/language type at
the producer and ultimate consumer. The <code class="code">Timestamp</code> might also be routed as a
native protocol type and might be mapped to/from the respective
language/runtime types at the producer and consumer ends, and never materialize
as a string.</p>
<p>The choice of serialization mechanism will determine how the context attributes
and the event data will be serialized. For example, in the case of a JSON
serialization, the context attributes and the event data might both appear
within the same JSON object.</p>
<div class="header-wrapper"><h3 id="required-attributes"><em class="rfc2119">REQUIRED</em> Attributes</h3><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<p>The following attributes are <em class="rfc2119">REQUIRED</em> to be present in all CloudEvents:</p>
<div class="header-wrapper"><h4 id="id">id</h4><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<ul>
<li>Type: <code class="code">String</code></li>
<li>Description: Identifies the event. Producers <em class="rfc2119">MUST</em> ensure that <code class="code">source</code> + <code class="code">id</code>
is unique for each distinct event. <del>If a duplicate event is re-sent (e.g. due
to a network error) it <em class="rfc2119">MAY</em> have the same <code class="code">id</code>.</del> Consumers <em class="rfc2119">MAY</em> assume that
Events with identical <code class="code">source</code> and <code class="code">id</code> are duplicates.</li>
<li>Constraints:<ul>
<li><em class="rfc2119">REQUIRED</em></li>
<li><em class="rfc2119">MUST</em> be a non-empty string</li>
<li><em class="rfc2119">MUST</em> be unique within the scope of the producer</li>
</ul>
</li>
<li>Examples:<ul>
<li>An ID  counter maintained by the producer</li>
<li>A UUID</li>
</ul>
</li>
</ul>
<p><strong>CloudEvents-NL</strong></p>
<ul>
<li>Constraints:<ul>
<li>If an ID is available that can durable identify the event, producers <em class="rfc2119">SHOULD</em> 
use that ID. (for example so that consumers <em class="rfc2119">MAY</em> use <code class="code">id</code> to request information
about the event from the source).</li>
<li>If no ID is available that can durable identify the event producers <em class="rfc2119">SHOULD</em> use a random ID:<ul>
<li><em class="rfc2119">SHOULD</em> use a <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a>.</li>
<li><em class="rfc2119">MUST</em> describe the limitations (eg that it's just a random ID and no identification
of the event occurred).</li>
</ul>
</li>
</ul>
</li>
<li>Examples:<ul>
<li>'doc2021033441' (ID of the document created as a result of an event that occurred).</li>
<li>'f3dce042-cd6e-4977-844d-05be8dce7cea' (UUID generated with the sole function of 
being able to uniquely identify the event.</li>
</ul>
</li>
</ul>
<div class="header-wrapper"><h4 id="source-0">source</h4><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<ul>
<li><p>Type: <code class="code">URI-reference</code></p>
</li>
<li><p>Description: Identifies the context in which an event happened. Often this
will include information such as the type of the event source, the
organization publishing the event or the process that produced the event. The
exact syntax and semantics behind the data encoded in the URI is defined by
the event producer.</p>
<p>Producers <em class="rfc2119">MUST</em> ensure that <code class="code">source</code> + <code class="code">id</code> is unique for each distinct event.</p>
<p>An application <em class="rfc2119">MAY</em> assign a unique <code class="code">source</code> to each distinct producer, which
makes it easy to produce unique IDs since no other producer will have the same
source. The application <em class="rfc2119">MAY</em> use UUIDs, URNs, DNS authorities or an
application-specific scheme to create unique <code class="code">source</code> identifiers.</p>
<p>A source <em class="rfc2119">MAY</em> include more than one producer. In that case the producers <em class="rfc2119">MUST</em>
collaborate to ensure that <code class="code">source</code> + <code class="code">id</code> is unique for each distinct event.</p>
</li>
<li><p>Constraints:</p>
<ul>
<li><em class="rfc2119">REQUIRED</em></li>
<li><em class="rfc2119">MUST</em> be a non-empty URI-reference</li>
<li>An absolute URI is <em class="rfc2119">RECOMMENDED</em></li>
</ul>
</li>
<li><p>Examples</p>
<ul>
<li>Internet-wide unique URI with a DNS authority.<ul>
<li><a href="https://github.com/cloudevents">https://github.com/cloudevents</a></li>
<li>mailto:<a href="mailto:cncf-wg-serverless@lists.cncf.io">cncf-wg-serverless@lists.cncf.io</a></li>
</ul>
</li>
<li>Universally-unique URN with a UUID:<ul>
<li>urn:uuid:6e8bc430-9c3a-11d9-9669-0800200c9a66</li>
</ul>
</li>
<li>Application-specific identifiers<ul>
<li>/cloudevents/spec/pull/123</li>
<li>/sensors/tn-1234567/alerts</li>
<li>1-555-123-4567</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>CloudEvents-NL</strong></p>
<ul>
<li>Constraints:<ul>
<li><em class="rfc2119">SHOULD</em> be a <a href="https://en.wikipedia.org/wiki/Uniform_Resource_Name">URN notation</a> with 'nld' as namespace identifier.</li>
<li><em class="rfc2119">SHOULD</em> contain consecutive a unique identifier of:<ul>
<li>the organization that publishes the event</li>
<li>the source system that publishes the event.</li>
</ul>
</li>
<li>involved organizations <em class="rfc2119">SHOULD</em> agree on how organizations and systems are uniquely identified (e.g. via the use of OIN, KVK-nummer or for organization identification);<ul>
<li>In line with <a href="https://docs.geostandaarden.nl/api/def-hr-API-Strategie-ext-20211013/#identification">API Designrules identification </a>:<ul>
<li><em class="rfc2119">SHOULD</em> use the "<a href="https://www.logius.nl/diensten/oin">organisatie-identificatienummer</a>" (OIN) for identifying Dutch government organizations</li>
<li><em class="rfc2119">SHOULD</em> use the <a href="https://www.kvk.nl/informatiebank/kvk-nummer-alles-wat-je-moet-weten/">KvK-nummer</a> for identifying Dutch non-government organizations (companies, associations, foundations etc...)</li>
<li><em class="rfc2119">SHOULD</em> use the <a href="https://afsprakenstelsel.etoegang.nl/">eIDAS legal identifier</a> in the EU context.
national, European or worldwide)</li>
</ul>
</li>
<li>one <em class="rfc2119">SHOULD</em> choose an abstraction level that can be used sustainably; even if the initial scope expands (e.g. from domain specific to more general).</li>
</ul>
</li>
<li><em class="rfc2119">SHOULD NOT</em> be used to reference an external data location (see extension attribute Dataref for that purpose).</li>
</ul>
</li>
<li>Examples:<ul>
<li>urn:nld:oin:00000001823288444000:systeem:BRP-component</li>
<li>urn:nld:kvknr:09220932.burgerzakensysteem</li>
<li>urn:nld:gemeente-nijmegen.burgerzakensysteem</li>
<li>urn:nld:gemeente-Bergen%20%28L%29.burgerzakensysteem
Comment: The use of (unique) descriptions increases recognisability, but also has disadvantages such as occurred changes or required encoding (like in the above example where "Bergen (L)" requires encoding).</li>
</ul>
</li>
</ul>
<div class="header-wrapper"><h4 id="specversion">specversion</h4><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<ul>
<li><p>Type: <code class="code">String</code></p>
</li>
<li><p>Description: The version of the CloudEvents specification which the event
uses. This enables the interpretation of the context. Compliant event
producers <em class="rfc2119">MUST</em> use a value of <code class="code">1.0</code> when referring to this version of the
specification.</p>
<p>Currently, this attribute will only have the 'major' and 'minor' version
numbers included in it. This allows for 'patch' changes to the specification
to be made without changing this property's value in the serialization.
Note: for 'release candidate' releases a suffix might be used for testing
purposes.</p>
</li>
<li><p>Constraints:</p>
<ul>
<li><em class="rfc2119">REQUIRED</em></li>
<li><em class="rfc2119">MUST</em> be a non-empty string</li>
</ul>
</li>
</ul>
<p><strong>CloudEvents-NL</strong></p>
<ul>
<li><em class="rfc2119">MUST</em> be '1.0'</li>
</ul>
<div class="header-wrapper"><h4 id="type">type</h4><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<ul>
<li>Type: <code class="code">String</code></li>
<li>Description: This attribute contains a value describing the type of event
related to the originating occurrence. Often this attribute is used for
routing, observability, policy enforcement, etc. The format of this is
producer defined and might include information such as the version of the
<code class="code">type</code> - see
<a href="primer.md#versioning-of-cloudevents">Versioning of CloudEvents in the Primer</a>
for more information.</li>
<li>Constraints:<ul>
<li><em class="rfc2119">REQUIRED</em></li>
<li><em class="rfc2119">MUST</em> be a non-empty string</li>
<li><em class="rfc2119">SHOULD</em> be prefixed with a reverse-DNS name. The prefixed domain dictates the
organization which defines the semantics of this event type.</li>
</ul>
</li>
<li>Examples<ul>
<li>com.github.pull_request.opened</li>
<li>com.example.object.deleted.v2</li>
</ul>
</li>
</ul>
<p><strong>CloudEvents-NL</strong></p>
<p>Constraints:</p>
<ul>
<li><em class="rfc2119">MUST</em> be <a href="https://en.wikipedia.org/wiki/Reverse_domain_name_notation">Reverse domain name notation</a></li>
<li><em class="rfc2119">MAY</em> be specified by adding as a suffix (for example: nl.brp.verhuizing.binnengemeentelijk)</li>
<li>Producers <em class="rfc2119">MUST</em> facilitate consumers to request the exact meaning.</li>
<li><em class="rfc2119">SHOULD</em> stay the same when a CloudEvent's data changes in a backwardly-compatible way.</li>
<li><em class="rfc2119">SHOULD</em> change when a CloudEvent's data changes in a backwardly-incompatible way.</li>
<li>The producer <em class="rfc2119">SHOULD</em> produce both the old event and the new event for some time (potentially forever) in order to
 avoid disrupting consumers.</li>
<li>The producer decides if versioning is used.</li>
<li>If versioning is used <a href="https://semver.org/">semantic versioning</a> <em class="rfc2119">SHOULD</em> be used; a prefix of 'v' <em class="rfc2119">SHOULD</em> be 
used to indicate it is a version number (e.g. 'v1.2.3')</li>
<li>In descending order of preference one <em class="rfc2119">SHOULD</em> use the name of a:<ul>
<li>data source (for example: 'nl.brp.persoon-verhuisd)</li>
<li>domain (for example: nl.natuurlijke-personen.persoon-verhuisd); for domain designation plural <em class="rfc2119">MUST</em> be used.</li>
<li>law or rule (for example: nl.amsterdam.erfpacht.overdracht)</li>
</ul>
</li>
<li>Names of organizations <em class="rfc2119">SHOULD NOT</em> be used (because they are not durable).
Examples:</li>
<li>nl.vng.zgw.zaken.status.create or nl.overheid.zaken.zaakstatus-gewijzigd (context is relevant when defining type)</li>
<li>nl.brp.huwelijk-voltrokken or nl.brp.persoon-gehuwd (be specific because exact meaning can differ)</li>
<li>nl.vng.zgw.zaak-toegevoegd-aan-document or nl.vng.zgw.document-toegevoegd-aan-zaak (perspective is relevant) </li>
<li>nl.brp.huwelijk-voltrokken.v0.1.0 (for initial development, anything may change)</li>
</ul>
<div class="header-wrapper"><h3 id="optional-attributes"><em class="rfc2119">OPTIONAL</em> Attributes</h3><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<p>The following attributes are <em class="rfc2119">OPTIONAL</em> to appear in CloudEvents. See the
<a href="#notational-conventions">Notational Conventions</a> section for more information
on the definition of <em class="rfc2119">OPTIONAL</em>.</p>
<div class="header-wrapper"><h4 id="datacontenttype">datacontenttype</h4><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<ul>
<li><p>Type: <code class="code">String</code> per <a href="https://tools.ietf.org/html/rfc2046">RFC 2046</a></p>
</li>
<li><p>Description: Content type of <code class="code">data</code> value. This attribute enables <code class="code">data</code> to
carry any type of content, whereby format and encoding might differ from that
of the chosen event format. For example, an event rendered using the
<a href="./json-format.md#3-envelope">JSON envelope</a> format might carry an XML payload
in <code class="code">data</code>, and the consumer is informed by this attribute being set to
"application/xml". The rules for how <code class="code">data</code> content is rendered for different
<code class="code">datacontenttype</code> values are defined in the event format specifications; for
example, the JSON event format defines the relationship in
<a href="./json-format.md#31-handling-of-data">section 3.1</a>.</p>
<p>For some binary mode protocol bindings, this field is directly mapped to the
respective protocol's content-type metadata property. Normative rules for the
binary mode and the content-type metadata mapping can be found in the
respective protocol</p>
<p>In some event formats the <code class="code">datacontenttype</code> attribute <em class="rfc2119">MAY</em> be omitted. For
example, if a JSON format event has no <code class="code">datacontenttype</code> attribute, then it is
implied that the <code class="code">data</code> is a JSON value conforming to the "application/json"
media type. In other words: a JSON-format event with no <code class="code">datacontenttype</code> is
exactly equivalent to one with <code class="code">datacontenttype="application/json"</code>.</p>
<p>When translating an event message with no <code class="code">datacontenttype</code> attribute to a
different format or protocol binding, the target <code class="code">datacontenttype</code> <em class="rfc2119">SHOULD</em> be
set explicitly to the implied <code class="code">datacontenttype</code> of the source.</p>
</li>
<li><p>Constraints:</p>
<ul>
<li><em class="rfc2119">OPTIONAL</em></li>
<li>If present, <em class="rfc2119">MUST</em> adhere to the format specified in
<a href="https://tools.ietf.org/html/rfc2046">RFC 2046</a></li>
</ul>
</li>
<li><p>For Media Type examples see
<a href="http://www.iana.org/assignments/media-types/media-types.xhtml">IANA Media Types</a></p>
</li>
</ul>
<p><strong>CloudEvents-NL</strong></p>
<p>Constraints:</p>
<ul>
<li>JSON-format <em class="rfc2119">SHOULD</em> be used (The <a href="https://docs.geostandaarden.nl/api/API-Strategie/">Nederlandse API Strategie</a> knows API-Design Rules Extensions in development. Part of this is the intention to
name JSON as the primary representation format for APIs. Because APIs play an 
important role in communicating events (eg when using the webhook pattern) the JSON format is 
preferred to use for payload data).</li>
</ul>
<div class="header-wrapper"><h4 id="dataschema">dataschema</h4><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<ul>
<li>Type: <code class="code">URI</code></li>
<li>Description: Identifies the schema that <code class="code">data</code> adheres to. Incompatible
changes to the schema <em class="rfc2119">SHOULD</em> be reflected by a different URI. See
<a href="primer.md#versioning-of-cloudevents">Versioning of CloudEvents in the Primer</a>
for more information.</li>
<li>Constraints:<ul>
<li><em class="rfc2119">OPTIONAL</em></li>
<li>If present, <em class="rfc2119">MUST</em> be a non-empty URI</li>
</ul>
</li>
</ul>
<p><strong>CloudEvents-NL</strong></p>
<p>Constraints:</p>
<ul>
<li>It <em class="rfc2119">SHOULD</em> be prevented that different schedules arise for the same data.</li>
<li>The dataschema attribute is expected to be informational, largely to be used 
during development and by tooling that is able to provide diagnostic information 
over arbitrary CloudEvents with a data content type understood by that tooling 
(see: <a href="https://github.com/cloudevents/spec/blob/v1.0.1/primer.md#the-role-of-the-dataschema-attribute-within-versioning">The role of the dataschema attribute within versioning</a>)</li>
</ul>
<div class="header-wrapper"><h4 id="subject">subject</h4><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<ul>
<li><p>Type: <code class="code">String</code></p>
</li>
<li><p>Description: This describes the subject of the event in the context of the
event producer (identified by <code class="code">source</code>). In publish-subscribe scenarios, a
subscriber will typically subscribe to events emitted by a <code class="code">source</code>, but the
<code class="code">source</code> identifier alone might not be sufficient as a qualifier for any
specific event if the <code class="code">source</code> context has internal sub-structure.</p>
<p>Identifying the subject of the event in context metadata (opposed to only in
the <code class="code">data</code> payload) is particularly helpful in generic subscription filtering
scenarios where middleware is unable to interpret the <code class="code">data</code> content. In the
above example, the subscriber might only be interested in blobs with names
ending with '.jpg' or '.jpeg' and the <code class="code">subject</code> attribute allows for
constructing a simple and efficient string-suffix filter for that subset of
events.</p>
</li>
<li><p>Constraints:</p>
<ul>
<li><em class="rfc2119">OPTIONAL</em></li>
<li>If present, <em class="rfc2119">MUST</em> be a non-empty string</li>
</ul>
</li>
<li><p>Example:</p>
<ul>
<li>A subscriber might register interest for when new blobs are created inside a
blob-storage container. In this case, the event <code class="code">source</code> identifies the
subscription scope (storage container), the <code class="code">type</code> identifies the "blob
created" event, and the <code class="code">id</code> uniquely identifies the event instance to
distinguish separate occurrences of a same-named blob having been created;
the name of the newly created blob is carried in <code class="code">subject</code>:<ul>
<li><code class="code">source</code>: <a href="https://example.com/storage/tenant/container">https://example.com/storage/tenant/container</a></li>
<li><code class="code">subject</code>: mynewfile.jpg</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>CloudEvents-NL</strong></p>
<p>Constraints:</p>
<ul>
<li>Decision on whether or not to use the attribute and/or the exact interpretation is postponed. 
To be determined partly on the basis of future agreements about subscription and filtering.</li>
</ul>
<p>Example:</p>
<ul>
<li><code class="code">source</code>: urn:nld:oin:00000001823288444000:systeem:BRP-component </li>
<li><code class="code">type</code>: nl.brp.persoon-gehuwd</li>
<li><code class="code">subject</code>: 123456789 (citizen service number)</li>
</ul>
<div class="header-wrapper"><h4 id="time">time</h4><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<ul>
<li>Type: <code class="code">Timestamp</code></li>
<li>Description: Timestamp of when the occurrence happened. If the time of the
occurrence cannot be determined then this attribute <em class="rfc2119">MAY</em> be set to some other
time (such as the current time) by the CloudEvents producer, however all
producers for the same <code class="code">source</code> <em class="rfc2119">MUST</em> be consistent in this respect. In other
words, either they all use the actual time of the occurrence or they all use
the same algorithm to determine the value used.</li>
<li>Constraints:<ul>
<li><em class="rfc2119">OPTIONAL</em></li>
<li>If present, <em class="rfc2119">MUST</em> adhere to the format specified in
<a href="https://tools.ietf.org/html/rfc3339">RFC 3339</a></li>
</ul>
</li>
</ul>
<p><strong>CloudEvents-NL</strong></p>
<ul>
<li>The time the event was logged <em class="rfc2119">SHOULD</em> be used (in many cases this is the only 
time that can be determined unambiguously).</li>
<li>The exact meaning of <code class="code">time</code> <em class="rfc2119">MUST</em> be clearly documented.</li>
<li>The time when an event occurred in reality <em class="rfc2119">SHOULD NOT</em> be used (if there is a need for this 
among consumers, this can be included in payload data).</li>
<li>If the time when an event occurred in reality is needed for things like 
routing or filtering, it can be included as a context attribute by the producer.</li>
</ul>
<div class="header-wrapper"><h3 id="extension-context-attributes">Extension Context Attributes</h3><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<p>A CloudEvent <em class="rfc2119">MAY</em> include any number of additional context attributes with
distinct names, known as "extension attributes". Extension attributes <em class="rfc2119">MUST</em>
follow the same <a href="#attribute-naming-convention">naming convention</a> and use the
same <a href="#type-system">type system</a> as standard attributes. Extension attributes
have no defined meaning in this specification, they allow external systems to
attach metadata to an event, much like HTTP custom headers.</p>
<p>Extension attributes are always serialized according to binding rules like
standard attributes. However this specification does not prevent an extension
from copying event attribute values to other parts of a message, in order to
interact with non-CloudEvents systems that also process the message. Extension
specifications that do this <em class="rfc2119">SHOULD</em> specify how receivers are to interpret
messages if the copied values differ from the cloud-event serialized values.</p>
<div class="header-wrapper"><h4 id="defining-extensions">Defining Extensions</h4><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<p>See <a href="primer.md#cloudevent-attribute-extensions">CloudEvent Attributes Extensions</a>
for additional information concerning the use and definition of extensions.</p>
<p>The definition of an extension <em class="rfc2119">SHOULD</em> fully define all aspects of the
attribute - e.g. its name, type, semantic meaning and possible values. New
extension definitions <em class="rfc2119">SHOULD</em> use a name that is descriptive enough to reduce the
chances of name collisions with other extensions. In particular, extension
authors <em class="rfc2119">SHOULD</em> check the <a href="documented-extensions.md">documented extensions</a>
document for the set of known extensions - not just for possible name conflicts
but for extensions that might be of interest.</p>
<p>Many protocols support the ability for senders to include additional metadata,
for example as HTTP headers. While a CloudEvents receiver is not mandated to
process and pass them along, it is <em class="rfc2119">RECOMMENDED</em> that they do so via some
mechanism that makes it clear they are non-CloudEvents metadata.</p>
<p>Here is an example that illustrates the need for additional attributes. In many
IoT and enterprise use cases, an event could be used in a serverless application
that performs actions across multiple types of events. To support such use
cases, the event producer will need to add additional identity attributes to the
"context attributes" which the event consumers can use to correlate this event
with the other events. If such identity attributes happen to be part of the
event "data", the event producer would also add the identity attributes to the
"context attributes" so that event consumers can easily access this information
without needing to decode and examine the event data. Such identity attributes
can also be used to help intermediate gateways determine how to route the
events.</p>
<p><strong>CloudEvents-NL</strong></p>
<ul>
<li>Two of the extension attributes included by CloudEvents ('dataref' and 
'sequence') are included as optional attributes in the CloudEvents-NL profile 
because it is foreseen that there is often a need to use these attributes.</li>
<li>Extension attributes should be kept minimal to ensure the CloudEvent can be 
properly serialized and transported (e.g. when using HTTP-headers most HTTP 
servers will reject requests with excessive HTTP header data).</li>
</ul>
<div class="header-wrapper"><h4 id="dataref">dataref</h4><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<ul>
<li><p>Type: <code class="code">URI-reference</code></p>
</li>
<li><p>Description: A reference to a location where the event payload is stored. The
location <em class="rfc2119">MAY</em> not be accessible without further information (e.g. a pre-shared
secret).</p>
<p>Known as the "Claim Check Pattern", this attribute <em class="rfc2119">MAY</em> be used for a variety
of purposes, including:</p>
<ul>
<li>If the <a href="../spec.md#data">Data</a> is too large to be included in the message,
the <code class="code">data</code> is not present, and the consumer can retrieve it using
this attribute.</li>
<li>If the consumer wants to verify that the <a href="../spec.md#data">Data</a> has not
been tampered with, it can retrieve it from a trusted source using this
attribute.</li>
<li>If the <a href="../spec.md#data">Data</a> <em class="rfc2119">MUST</em> only be viewed by trusted consumers
(e.g. personally identifiable information), only a trusted consumer can
retrieve it using this attribute and a pre-shared secret.</li>
</ul>
<p>If this attribute is used, the information <em class="rfc2119">SHOULD</em> be accessible long enough
for all consumers to retrieve it, but <em class="rfc2119">MAY</em> not be stored for an extended period
of time.</p>
</li>
<li><p>Constraints:</p>
<ul>
<li><em class="rfc2119">OPTIONAL</em></li>
</ul>
</li>
</ul>
<h1>Example</h1>
<p>The following example shows a CloudEvent in which the event producer has included
both <code class="code">data</code> and <code class="code">dataref</code> (serialized as JSON):</p>
<pre><code class="JSON code hljs json" aria-busy="false">{
    <span class="hljs-attr">"specversion"</span> : <span class="hljs-string">"1.0"</span>,
    <span class="hljs-attr">"type"</span> : <span class="hljs-string">"com.github.pull_request.opened"</span>,
    <span class="hljs-attr">"source"</span> : <span class="hljs-string">"https://github.com/cloudevents/spec/pull/123"</span>,
    <span class="hljs-attr">"id"</span> : <span class="hljs-string">"A234-1234-1234"</span>,
    <span class="hljs-attr">"datacontenttype"</span> : <span class="hljs-string">"text/xml"</span>,
    <span class="hljs-attr">"data"</span> : <span class="hljs-string">"&lt;much wow="</span>\&amp;quot;xml\&amp;quot;/<span class="hljs-string">"&gt;"</span>,
    <span class="hljs-attr">"dataref"</span> : <span class="hljs-string">"https://github.com/cloudevents/spec/pull/123/events/A234-1234-1234.xml"</span>
}
</code></pre>
<p><strong>CloudEvents-NL</strong></p>
<ul>
<li><em class="rfc2119">MAY</em> be used to reference an external data location (for example: a link back to 
the producer of the event that can be queried for more information about the event).</li>
<li><em class="rfc2119">MAY</em> be used to implenment 'informatiearm notificeren' where the consumer of the 
event receives some minimal information on the nature of the event, but then has 
to issue a request back to the producer to obtain additional information (the time 
aspect may deserve attention because changes may occur in the period that consumers
are notified and the time of requesting additional information).</li>
</ul>
<div class="header-wrapper"><h4 id="sequence">Sequence</h4><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<p>This extension defines two attributes that can be included within a CloudEvent to describe the position of an event in the ordered sequence of events produced by a unique event source.
The <code class="code">sequence</code> attribute represents the value of this event's order in the stream of events. The exact value and meaning of this attribute is defined by the <code class="code">sequencetype</code> attribute. If the <code class="code">sequencetype</code> is missing, or not defined in this specification, event consumers will need to have some out-of-band communication with the event producer to understand how to interpret the value
of the attribute.</p>
<div class="header-wrapper"><h2 id="attributes">Attributes</h2><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<div class="header-wrapper"><h3 id="sequence-0">sequence</h3><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<ul>
<li>Type: <code class="code">String</code></li>
<li>Description: Value expressing the relative order of the event. This enables
interpretation of data supercedence.</li>
<li>Constraints<ul>
<li><em class="rfc2119">REQUIRED</em></li>
<li><em class="rfc2119">MUST</em> be a non-empty lexicographically-orderable string</li>
<li><em class="rfc2119">RECOMMENDED</em> as monotonically increasing and contiguous</li>
</ul>
</li>
</ul>
<div class="header-wrapper"><h3 id="sequencetype">sequencetype</h3><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<ul>
<li>Type: <code class="code">String</code></li>
<li>Description: Specifies the semantics of the sequence attribute. See the
<a href="#sequencetype-values">SequenceType Values</a> section for more information.</li>
<li>Constraints:<ul>
<li><em class="rfc2119">OPTIONAL</em></li>
<li>If present, <em class="rfc2119">MUST</em> be a non-empty string</li>
</ul>
</li>
</ul>
<div class="header-wrapper"><h2 id="sequencetype-values">SequenceType Values</h2><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<p>This specification defines the following values for <code class="code">sequencetype</code>. Additional
values <em class="rfc2119">MAY</em> be defined by other specifications.</p>
<div class="header-wrapper"><h3 id="integer">Integer</h3><a class="self-link" href="#context-attributes" aria-label="Permalink for this Section"></a></div>
<p>If the <code class="code">sequencetype</code> is set to <code class="code">Integer</code>, the <code class="code">sequence</code> attribute has the
following semantics:</p>
<ul>
<li>The values of <code class="code">sequence</code> are string-encoded signed 32-bit Integers.</li>
<li>The sequence <em class="rfc2119">MUST</em> start with a value of <code class="code">1</code> and increase by <code class="code">1</code> for each
subsequent value (i.e. be contiguous and monotonically increasing).</li>
<li>The sequence wraps around from 2,147,483,647 (2^31 -1) to -2,147,483,648
(-2^31).</li>
</ul>
<p><strong>CloudEvents-NL</strong></p>
<ul>
<li>Attribute 'sequence' can be helpful in situations where:</li>
<li>a form of 'pull mechanism' is used ((e.g. periodically fetching events by consumers 
  via HTTP request)) or</li>
<li>where there is a need for (re)synchronization (e.g. 
after errors have occurred).</li>
</ul>
</section>
    <section data-format="markdown" id="event-data"><div class="header-wrapper"><h2 id="x5-event-data"><bdi class="secno">5. </bdi>Event Data</h2><a class="self-link" href="#event-data" aria-label="Permalink for Section 5."></a></div>
<p>As defined by the term <a href="#data">Data</a>, CloudEvents <em class="rfc2119">MAY</em> include domain-specific
information about the occurrence. When present, this information will be
encapsulated within <code class="code">data</code>.</p>
<ul>
<li><p>Description: The event payload. This specification does not place any
restriction on the type of this information. It is encoded into a media format
which is specified by the <code class="code">datacontenttype</code> attribute (e.g. application/json),
and adheres to the <code class="code">dataschema</code> format when those respective attributes are
present.</p>
</li>
<li><p>Constraints:</p>
<ul>
<li><em class="rfc2119">OPTIONAL</em></li>
</ul>
</li>
</ul>
</section>
    <section data-format="markdown" id="size-limits"><div class="header-wrapper"><h2 id="x6-size-limits"><bdi class="secno">6. </bdi>Size Limits</h2><a class="self-link" href="#size-limits" aria-label="Permalink for Section 6."></a></div>
<p>In many scenarios, CloudEvents will be forwarded through one or more generic
intermediaries, each of which might impose limits on the size of forwarded
events. CloudEvents might also be routed to consumers, like embedded devices,
that are storage or memory-constrained and therefore would struggle with large
singular events.</p>
<p>The "size" of an event is its wire-size and includes every bit that is
transmitted on the wire for the event: protocol frame-metadata, event metadata,
and event data, based on the chosen event format and the chosen protocol
binding.</p>
<p>If an application configuration requires for events to be routed across
different protocols or for events to be re-encoded, the least efficient
protocol and encoding used by the application <em class="rfc2119">SHOULD</em> be considered for
compliance with these size constraints:</p>
<ul>
<li>Intermediaries <em class="rfc2119">MUST</em> forward events of a size of 64 KByte or less.</li>
<li>Consumers <em class="rfc2119">SHOULD</em> accept events of a size of at least 64 KByte.</li>
</ul>
<p>In effect, these rules will allow producers to publish events up to 64KB in size
safely. Safely here means that it is generally reasonable to expect the event to
be accepted and retransmitted by all intermediaries. It is in any particular
consumer's control, whether it wants to accept or reject events of that size due
to local considerations.</p>
<p>Generally, CloudEvents publishers <em class="rfc2119">SHOULD</em> keep events compact by avoiding
embedding large data items into event payloads and rather use the event payload
to link to such data items. From an access control perspective, this approach
also allows for a broader distribution of events, because accessing
event-related details through resolving links allows for differentiated access
control and selective disclosure, rather than having sensitive details embedded
in the event directly.</p>
</section>
    <section data-format="markdown" id="advanced-cloudevents-security-options"><div class="header-wrapper"><h2 id="x7-advanced-cloudevents-security-options"><bdi class="secno">7. </bdi>Advanced CloudEvents Security Options</h2><a class="self-link" href="#advanced-cloudevents-security-options" aria-label="Permalink for Section 7."></a></div>
<p>Interoperability is the primary driver behind this specification, enabling such
behavior requires some information to be made available <em>in the clear</em> resulting
in the potential for information leakage.</p>
<p>Consider the following to prevent inadvertent leakage especially when leveraging
3rd party platforms and communication networks:</p>
<ul>
<li><p>Context Attributes</p>
<p>Sensitive information <em class="rfc2119">SHOULD NOT</em> be carried or represented in context
attributes.</p>
<p>CloudEvent producers, consumers, and intermediaries <em class="rfc2119">MAY</em> introspect and log
context attributes.</p>
</li>
<li><p>Data</p>
<p>Domain specific <a href="#event-data">event data</a> <em class="rfc2119">SHOULD</em> be encrypted to restrict
visibility to trusted parties. The mechanism employed for such encryption is
an agreement between producers and consumers and thus outside the scope of
this specification.</p>
</li>
<li><p>Protocol Bindings</p>
<p>Protocol level security <em class="rfc2119">SHOULD</em> be employed to ensure the trusted and secure
exchange of CloudEvents.</p>
</li>
</ul>
</section>
    <section data-format="markdown" id="example"><div class="header-wrapper"><h2 id="x8-example"><bdi class="secno">8. </bdi>Example</h2><a class="self-link" href="#example" aria-label="Permalink for Section 8."></a></div>
<p>The following example shows a CloudEvent serialized as JSON:</p>
<pre><code class="JSON code hljs json" aria-busy="false">{
    <span class="hljs-attr">"specversion"</span> : <span class="hljs-string">"1.0"</span>,
    <span class="hljs-attr">"type"</span> : <span class="hljs-string">"com.github.pull_request.opened"</span>,
    <span class="hljs-attr">"source"</span> : <span class="hljs-string">"https://github.com/cloudevents/spec/pull"</span>,
    <span class="hljs-attr">"subject"</span> : <span class="hljs-string">"123"</span>,
    <span class="hljs-attr">"id"</span> : <span class="hljs-string">"A234-1234-1234"</span>,
    <span class="hljs-attr">"time"</span> : <span class="hljs-string">"2018-04-05T17:31:00Z"</span>,
    <span class="hljs-attr">"comexampleextension1"</span> : <span class="hljs-string">"value"</span>,
    <span class="hljs-attr">"comexampleothervalue"</span> : <span class="hljs-number">5</span>,
    <span class="hljs-attr">"datacontenttype"</span> : <span class="hljs-string">"text/xml"</span>,
    <span class="hljs-attr">"data"</span> : <span class="hljs-string">"&lt;much wow="</span>\&amp;quot;xml\&amp;quot;/<span class="hljs-string">"&gt;"</span>
}
</code></pre>
<p><strong>CloudEvents-NL</strong></p>
<p>In the example below, a number of agreements are visible as they apply within the CloudEvents-NL profile.
In order to show as much things as possible, this is done in the form of a very extensive message. 
In minimal form, a message contains only four mandatory attributes: <code class="code">id</code>, <code class="code">source</code>, <code class="code">specversion</code> and <code class="code">type</code>.
For more information about a particular attribute, see the detailed attribute description.</p>
<pre><code class="JSON code hljs json" aria-busy="false">{
  <span class="hljs-attr">"specversion"</span>: <span class="hljs-string">"1.0"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"nl.overheid.zaken.zaakstatus-gewijzigd"</span>,
  <span class="hljs-attr">"source"</span>: <span class="hljs-string">"urn:nld:oin:00000001823288444000:systeem:BRP-component"</span>,
  <span class="hljs-attr">"subject"</span>: <span class="hljs-string">"123456789"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"f3dce042-cd6e-4977-844d-05be8dce7cea"</span>,
  <span class="hljs-attr">"time"</span>: <span class="hljs-string">"2021-12-10T17:31:00Z"</span>,
  <span class="hljs-attr">"nlbrpnationaliteit"</span>: <span class="hljs-string">"0083"</span>,
  <span class="hljs-attr">"geheimnummer"</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">"dataref"</span>: <span class="hljs-string">"https://gemeenteX/api/persoon/123456789"</span>,
  <span class="hljs-attr">"sequence"</span>: <span class="hljs-string">"1234"</span>,
  <span class="hljs-attr">"sequencetype"</span>: <span class="hljs-string">"integer"</span>,
  <span class="hljs-attr">"datacontenttype"</span>: <span class="hljs-string">"application/json"</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"bsn"</span>: <span class="hljs-string">"1234567789"</span>,
    <span class="hljs-attr">"naam"</span>: <span class="hljs-string">"Jan Jansen"</span>,
    <span class="hljs-attr">"gecontroleerd"</span>: <span class="hljs-string">"ja"</span>
  }
}
</code></pre>
<table class="dkkvs">
<thead>
<tr>
<th align="left">Attribute</th>
<th align="left">Explanation</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&nbsp; specversion</td>
<td align="left">Always '1.0'</td>
</tr>
<tr>
<td align="left">&nbsp; type</td>
<td align="left">Reverse DNS notation</td>
</tr>
<tr>
<td align="left">&nbsp; source</td>
<td align="left">Urn notation with 'nld' namespace identifier</td>
</tr>
<tr>
<td align="left">&nbsp; subject</td>
<td align="left">BSN as example; yet to be seen if and how attribute 'subject' will be used</td>
</tr>
<tr>
<td align="left">&nbsp; id</td>
<td align="left">Uuid (unique)</td>
</tr>
<tr>
<td align="left">&nbsp; time</td>
<td align="left">Time when event was recorded</td>
</tr>
<tr>
<td align="left">&nbsp; nlbrpnationaliteit</td>
<td align="left">Extension attribute with a BRP-domain specific meaning</td>
</tr>
<tr>
<td align="left">&nbsp; geheimnummer</td>
<td align="left">Extension attribute, to be treated as the equivalent of unset or omitted</td>
</tr>
<tr>
<td align="left">&nbsp; dataref</td>
<td align="left">Extension attribute with a reference to where to get additional information</td>
</tr>
<tr>
<td align="left">&nbsp; sequence</td>
<td align="left">Extension attribute with an event tracking number</td>
</tr>
<tr>
<td align="left">&nbsp; sequencetype</td>
<td align="left">Extension attribut with indication of the type of sequence used</td>
</tr>
<tr>
<td align="left">&nbsp; datacontenttype</td>
<td align="left">Indication of content type in attribute 'data'</td>
</tr>
<tr>
<td align="left">&nbsp; data</td>
<td align="left">Content information for consumer ('payload')</td>
</tr>
</tbody></table>
<p>Attribute names meet the CloudEvents specification requirements:</p>
<ul>
<li><em class="rfc2119">MUST</em> consist of lower-case letters ('a' to 'z') or digits ('0' to '9') from the ASCII character set. </li>
<li><em class="rfc2119">SHOULD</em> be descriptive and terse and <em class="rfc2119">SHOULD NOT</em> exceed 20 characters in length.</li>
</ul>
</section>
    <section data-format="markdown" id="appendix-1-use-of-json-http-and-webhook"><div class="header-wrapper"><h2 id="x9-appendix-1-use-of-json-http-and-webhook"><bdi class="secno">9. </bdi>Appendix 1: Use of JSON, HTTP and Webhook</h2><a class="self-link" href="#appendix-1-use-of-json-http-and-webhook" aria-label="Permalink for Section 9."></a></div>
<p>This appendix describes how the CloudEvent-NL profile can be applied when using the JSON format, the HTTP protocol and the Webhook pattern.</p>
<p>The CloudEvent-NL message format can be used when using different formats and protocols. CloudEvents has a <a href="https://github.com/cloudevents/spec/blob/v1.0.1/primer.md#architecture">layered architecture</a> for this. In order to be able to use the GOV-NL profile properly in practice, agreements must also be made when a certain format and/or protocol is used.</p>
<p>In addition to the CloudEvent specification the <a href="https://github.com/cncf/wg-serverless">Serverless Working Group</a> has described for <a href="https://github.com/cloudevents/spec#cloudevents-documents">several commonly used formats</a> and protocols how they can be used in a standardized way in combination with the CloudEvents message format.</p>
<p>Within the Dutch government, frequent use is made of the JSON format, the HTTP protocol and the Webhook pattern for data exchange. For example, a common way to send events to consumers is to use the webhook pattern where a message in JSON format is sent via the HTTP protocol. Further standardization than just event description via the NL GOV profile therefore benefits most from agreements around these 3 areas. In addition to standardization through the use of the NL GOV profile, we therefore work towards standardization on exchanging event information when using JSON, HTTP and Webhook.</p>
<p>The NL GOV profile is intended to be used as a government-wide standard. This does not yet apply to the additional specification for the use of JSON, HTTP and Webhook. The specifications for them have the character of 'guidelines' ("a statement by which to determine a course of action", <a href="https://en.wikipedia.org/wiki/Guideline">Wikipedia</a>).</p>
<p>Similar to what happened in the NL GOV profile for the CloudEvents specification, the guidelines make recommendations
about the use of the specifications within the context of the Dutch government. These are intended to make use of the specifications more unambiguous and to work towards standardisation in the long term.</p>
<p>For the time being, the following constraints apply:</p>
<ul>
<li>One <em class="rfc2119">SHOULD</em> use the <a href="https://github.com/cloudevents/spec/blob/v1.0.1/json-format.md">JSON Event Format for CloudEvents</a> specification and pay attention to the points of attention and recommendations in the guideline <a href="https://github.com/VNG-Realisatie/NL-GOV-profile-for-CloudEvents/blob/main/NL-GOV-Guideline-for-CloudEvents-JSON.md">NL GOV Guideline for CloudEvents JSON</a>.</li>
<li>One <em class="rfc2119">SHOULD</em> use the <a href="https://github.com/cloudevents/spec/blob/v1.0.1/http-protocol-binding.md">HTTP Protocol Binding for CloudEvents</a> specification and pay attention to the points of attention and recommendations in the guideline <a href="https://github.com/VNG-Realisatie/NL-GOV-profile-for-CloudEvents/blob/main/NL-GOV-Guideline-for-CloudEvents-HTTP.md">NL GOV Guideline for CloudEvents HTTP</a>.</li>
<li>One <em class="rfc2119">SHOULD</em> use the <a href="https://github.com/cloudevents/spec/blob/v1.0.1/http-webhook.md">HTTP 1.1 Web Hooks for Event Delivery</a> specification and pay attention to the points of attention and recommendations in the guideline <a href="https://github.com/VNG-Realisatie/NL-GOV-profile-for-CloudEvents/blob/main/NL-GOV-Guideline-for-CloudEvents-Webhook.md">NL GOV Guideline for CloudEvents Webhook</a>.</li>
</ul>
</section>

    <section id="tof">
            
    <div class="header-wrapper"><h2 id="x10-list-of-figures"><bdi class="secno">10. </bdi>List of Figures</h2><a class="self-link" href="#tof" aria-label="Permalink for Section 10."></a></div><ul class="tof">
        <li class="tofline">
    <a class="tocxref" href="#authorization_code">Figure <bdi class="figno">1</bdi> <span class="fig-title">Publish-subscribe pattern</span></a>
  </li>
      </ul></section>
    




  

<section id="references" class="appendix"><div class="header-wrapper"><h2 id="a-references"><bdi class="secno">A. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix A."></a></div>
      <p>Referenties</p>
      
    <section id="normative-references">
    <div class="header-wrapper"><h3 id="a-1-normative-references"><bdi class="secno">A.1 </bdi>Normative references</h3><a class="self-link" href="#normative-references" aria-label="Permalink for Appendix A.1"></a></div>
    <dl class="bibliography"><dt id="bib-cloudevents">[CloudEvents]</dt><dd>
      <a href="https://github.com/cloudevents/spec/blob/v1.0.1/spec.md"><cite>CloudEvents - Version 1.0.1</cite></a>. @@@.  @@@. May 2011. URL: <a href="https://github.com/cloudevents/spec/blob/v1.0.1/spec.md">https://github.com/cloudevents/spec/blob/v1.0.1/spec.md</a>
    </dd><dt id="bib-rfc2119">[RFC2119]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
    </dd><dt id="bib-rfc8174">[RFC8174]</dt><dd>
      <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>